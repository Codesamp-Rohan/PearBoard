<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Whiteboard — Vanilla JS</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
<p class="drag-msg">Use <b>shift</b> to drag</p>
<button id="state-details" type="button">!</button>

<!--Authentication-->
<div id="auth-container">
  <div id="auth-form">
    <input id="auth-input" type="text" placeholder="Enter your name" />
    <input type="password" name="password" id="auth-pass" placeholder="Enter your password">
    <div style="display: flex; flex-direction: row; gap: 4px; width: 100%">
    <button style="width: 100%" id="auth-signin" type="button">Board In</button>
    <button style="width: 100%"  id="auth-signup" type="button">Board Up</button>
    </div>
  </div>
</div>

<!--Floaters-->
<div class="left-top-data">
  <button class="load-state-btn" type="button">
    <p>💾 Load State</p>
  </button>
  <button class="slide-state-btn" type="button">
    <p>💾 Slide State</p>
  </button>
  <button class="canvas-room-key hidden" type="button">
    <p>Canvas Topic</p><p id="canvas-topic"></p><img class="icon" src="./assets/copy.png" alt="copy-img">
  </button>
  <button class="group hidden" type="button" id="peer-count-btn">
    <p>Peers Count : </p><p id="peers-count">1</p>
  </button>
  <div>
    <button style="display: flex; flex-direction: row; align-items: center; gap: 4px;" class="button peer-name-container" type="button">
      <p id="local-peer-name" class="name--btn"></p>
      <img class="icon" src="./assets/arrow.png" alt="copy-img">
    </button>
<div class="hidden" id="name--input--popup">
  <input style="font-size: 12px;" id="username-input" placeholder="Enter your name" />
  <button style="font-size: 12px;" id="username-submit">Submit</button>
</div>
  </div>
</div>
<div id="titlebar">
  <pear-ctrl></pear-ctrl>
  <p id="version">1.0.3</p>
</div>
<div id="setup" style="z-index: 999;">
  <div id="peers-list-container">
    <h5 style="padding: 0 8px">Saved Canvas History</h5>
  <div id="peers-list" class="">
  </div>
  </div>
  <div id="create-join-container">
  <div>
    <button id="create-canvas">Create</button>
  </div>
  <div id="or">
    - or -
  </div>
  <div id="join-form">
    <button type="button" id="join-canvas">Join</button>
    <input required id="join-canvas-topic" type="text" placeholder="Chat room Topic" />
  </div>
  </div>
</div>
<div id="loading" class="hidden">Loading ...</div>
<header class="toolbar hidden" role="toolbar" aria-label="Whiteboard toolbar">
  <div class="btn--container">
  <div class="group" id="tools" style="gap: 4px;">
    <button class="btn active" data-tool="pen" title="Pen (P)">✏️</button>
    <button class="btn" data-tool="eraser" title="Eraser (E)">🧽</button>
    <button class="btn" data-tool="line" title="Line (L)">／</button>
    <button class="btn" data-tool="rect" title="Rectangle (R)">▭</button>
    <button class="btn" data-tool="ellipse" title="Ellipse (O)">⬭</button>
    <button class="btn" data-tool="diamond" title="Diamond (D)">⬥</button>
    <button class="btn" data-tool="text" title="Text (T)">🅣</button>
    <button class="btn" data-tool="hand" title="Hand (H)">✋🏿</button>
    <button id="undo" class="btn" title="Undo (Ctrl/Cmd+Z)">↶</button>
    <button id="redo" class="btn" title="Redo (Ctrl/Cmd+Shift+Z)">↷</button>
    <button id="clear" class="btn" title="Clear">🗑️</button>
    <button id="save" class="btn" title="Save PNG">💾</button>
    <button id="save-state" class="btn" title="Save State">Save State</button>
    <button id="delete-state" class="btn" title="Delete State">❌</button>
  </div>
  </div>
  <div class="group">
    <label class="label">Color <input id="color" type="color" value="#111111" style="padding: 0" /></label>
    <label class="label">Size <input id="size" type="range" min="1" max="50" value="6" /></label>
  </div>
  <div class="group">
    <label for="opacity-control" class="label">Opacity:</label>
    <input type="range" id="opacity-control" min="0" max="1" step="0.05" value="1" />
  </div>
</header>

<main class="board-wrap hidden">
  <div id="slide-state-container" class="hidden"></div>
  <div id="zoom-scale-display" style="">100%</div>
  <canvas id="board" aria-label="Drawing canvas"></canvas>
  <p id="mouse-follower">You</p>
</main>

<script src="/app.js" type="module"></script>
</body>
</html>
