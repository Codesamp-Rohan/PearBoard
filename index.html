<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Whiteboard — Vanilla JS</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
<p class="drag-msg">Use <b>shift</b> to drag</p>
<div id="titlebar">
  <pear-ctrl></pear-ctrl>
</div>
<div id="setup">
      <button id="local-peer-name" class="name--btn"></button>
      <div class="hidden" id="name--input--popup">
         <input id="username-input" placeholder="Enter your name" />
         <button id="username-submit">Submit</button>
      </div>
  <div>
    <button id="create-canvas">Create</button>
  </div>
  <div id="or">
    - or -
  </div>
  <div id="join-form">
    <button type="button" id="join-canvas">Join</button>
    <input required id="join-canvas-topic" type="text" placeholder="Chat room Topic" />
  </div>
</div>
<div id="loading" class="hidden">Loading ...</div>
<header class="toolbar hidden" role="toolbar" aria-label="Whiteboard toolbar">
  <div class="group" id="tools">
    <button class="btn active" data-tool="pen" title="Pen (P)">✏️</button>
    <button class="btn" data-tool="eraser" title="Eraser (E)">🧽</button>
    <button class="btn" data-tool="line" title="Line (L)">／</button>
    <button class="btn" data-tool="rect" title="Rectangle (R)">▭</button>
    <button class="btn" data-tool="ellipse" title="Ellipse (O)">⬭</button>
    <button class="btn" data-tool="diamond" title="Diamond (D)">⬥</button>
    <button class="btn" data-tool="text" title="Text (T)">🅣</button>
  </div>

  <div class="group">
    <label class="label">Color <input id="color" type="color" value="#111111" style="padding: 0" /></label>
    <label class="label">Size <input id="size" type="range" min="1" max="50" value="6" /></label>
  </div>

  <div class="group">
    <button id="undo" class="btn" title="Undo (Ctrl/Cmd+Z)">↶</button>
    <button id="redo" class="btn" title="Redo (Ctrl/Cmd+Shift+Z)">↷</button>
    <button id="clear" class="btn" title="Clear">🗑️</button>
    <button id="save" class="btn" title="Save PNG">💾</button>
  </div>

  <div class="group">
    <p>Key : </p><p id="canvas-topic"></p>
  </div>
  <button class="group" type="button" id="peer-count-btn">
    <p>Peers Count : </p><p id="peers-count">1</p>
  </button>
</header>

<div id="peers-list" class="hidden">
</div>

<main class="board-wrap hidden">
  <canvas id="board" aria-label="Drawing canvas"></canvas>
  <p id="mouse-follower">You</p>
</main>

<script src="./app.js" type="module"></script>
<script type="module" src="./helper.js"></script>
</body>
</html>
